schema: '2.0'
stages:
  data_ingestion:
    cmd: src/pipeline/stage0_data_ingestion.py
    deps:
    - path: data/raw
      hash: md5
      md5: 175fa0f786e630c200de8d1d009ea505.dir
      size: 983649
      nfiles: 3
    - path: src/pipeline/stage0_data_ingestion.py
      hash: md5
      md5: 2a2c8f71a9546750dbb520b18509d4f9
      size: 1086
    params:
      params.yaml:
        make_dataset.test_size: 0.1
    outs:
    - path: data/interim
      hash: md5
      md5: 8b3f9c5e38ccba135ff4fc82f0cf26e4.dir
      size: 873869
      nfiles: 1
  build_data:
    cmd: src/pipeline/stage1_build_data.py
    deps:
    - path: ../data/interim/test/test.csv
      hash: md5
      md5: 97685cb2b7dd467cb72b11c822f623f5
      size: 97632
    - path: ../data/interim/train/train.csv
      hash: md5
      md5: 9db997ad85556edc689cbafc156129ab
      size: 776271
    - path: src/pipeline/stage1_build_data.py
      hash: md5
      md5: 22e439359aef799e7e998fcf008ae56c
      size: 4231
    params:
      params.yaml:
        data.drop_columns:
        - customerID
        - TotalCharges
    outs:
    - path: data/processed
      hash: md5
      md5: d864e6c69bbd478cccbba5f5bfc666aa.dir
      size: 2484508
      nfiles: 2
  build_model:
    cmd: src/pipeline/stage2_build_model.py
    deps:
    - path: data/processed/test/test.csv
      hash: md5
      md5: 528a700d77983c950800918050d4fa1f
      size: 248901
    - path: data/processed/train/train.csv
      hash: md5
      md5: 005f46521b750fdb0b14472f021d5c3f
      size: 2235607
    - path: src/models/train_model.py
      hash: md5
      md5: ea681d042ced00a7905fee24ccb96e03
      size: 4230
    - path: src/pipeline/stage2_build_model.py
      hash: md5
      md5: 556dfcd8883c76658b253c4bed4b76b7
      size: 1049
    params:
      params.yaml:
        model.experiment_name: xxx
        model.metrics:
        - accuracy_score
        - precision_score
        - recall_score
        model.model_args_name: random_forest_params
        model.model_name: RandomForestClassifier
        model.sub_model: ensemble
        model_params:
          random_forest_params:
            n_estimators: 100
            criterion: gini
            max_depth: 4
            min_samples_split: 4
            min_samples_leaf: 2
            max_features: sqrt
          LogisticRegression:
            penalty: l2
    outs:
    - path: models/
      hash: md5
      md5: 7786648c4480a0b9de8f095b738a0100.dir
      size: 279648
      nfiles: 5
  model_evaluator:
    cmd: src/pipeline/stage3_model_evaluator.py
    deps:
    - path: data/processed/test/test.csv
      hash: md5
      md5: 528a700d77983c950800918050d4fa1f
      size: 248901
    - path: models/
      hash: md5
      md5: 7786648c4480a0b9de8f095b738a0100.dir
      size: 279648
      nfiles: 5
    - path: src/models/train_model.py
      hash: md5
      md5: ea681d042ced00a7905fee24ccb96e03
      size: 4230
    - path: src/pipeline/stage3_model_evaluator.py
      hash: md5
      md5: b425e3781d415c40ec1bb98a11f3062a
      size: 1147
    params:
      params.yaml:
        model.experiment_name: xxx
        model.metrics:
        - accuracy_score
        - precision_score
        - recall_score
        model.model_name: RandomForestClassifier
        model.sub_model: ensemble
        model_params:
          random_forest_params:
            n_estimators: 100
            criterion: gini
            max_depth: 4
            min_samples_split: 4
            min_samples_leaf: 2
            max_features: sqrt
          LogisticRegression:
            penalty: l2
